{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const formData = { email: '', message: '' };\nconst LS_KEY = 'feedback-form-state';\n\nconst feedbackForm = document.querySelector('.feedback-form');\npopulateFormFromStorage();\n\nfeedbackForm.addEventListener('input', inputsHandler);\nfeedbackForm.addEventListener('submit', submitHandler);\n\nfunction inputsHandler(event) {\n  formData.email = event.currentTarget.elements.email.value.trim();\n  formData.message = event.currentTarget.elements.message.value.trim();\n\n  try {\n    localStorage.setItem(LS_KEY, JSON.stringify(formData));\n  } catch (error) {\n    console.log(err);\n    return;\n  }\n}\n\nfunction submitHandler(event) {\n  event.preventDefault();\n\n  if (!formData.email || !formData.message) {\n    alert('Fill please all fields');\n    return;\n  }\n\n  console.dir(formData);\n  localStorage.removeItem(LS_KEY);\n  event.currentTarget.reset();\n}\n\nfunction populateFormFromStorage() {\n  let dataFromStorage = {};\n  try {\n    dataFromStorage = JSON.parse(localStorage.getItem(LS_KEY));\n  } catch (error) {\n    console.log(err);\n    return;\n  }\n\n  if (!dataFromStorage) {\n    return;\n  }\n\n  for (const key in dataFromStorage) {\n    feedbackForm.elements[key].value = dataFromStorage[key];\n  }\n}\n"],"names":["formData","LS_KEY","feedbackForm","populateFormFromStorage","inputsHandler","submitHandler","event","dataFromStorage","key"],"mappings":"wFAAA,MAAMA,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EACnCC,EAAS,sBAETC,EAAe,SAAS,cAAc,gBAAgB,EAC5DC,IAEAD,EAAa,iBAAiB,QAASE,CAAa,EACpDF,EAAa,iBAAiB,SAAUG,CAAa,EAErD,SAASD,EAAcE,EAAO,CAC5BN,EAAS,MAAQM,EAAM,cAAc,SAAS,MAAM,MAAM,OAC1DN,EAAS,QAAUM,EAAM,cAAc,SAAS,QAAQ,MAAM,OAE9D,GAAI,CACF,aAAa,QAAQL,EAAQ,KAAK,UAAUD,CAAQ,CAAC,CACtD,MAAe,CACd,QAAQ,IAAI,GAAG,EACf,MACD,CACH,CAEA,SAASK,EAAcC,EAAO,CAG5B,GAFAA,EAAM,eAAc,EAEhB,CAACN,EAAS,OAAS,CAACA,EAAS,QAAS,CACxC,MAAM,wBAAwB,EAC9B,MACD,CAED,QAAQ,IAAIA,CAAQ,EACpB,aAAa,WAAWC,CAAM,EAC9BK,EAAM,cAAc,OACtB,CAEA,SAASH,GAA0B,CACjC,IAAII,EAAkB,CAAA,EACtB,GAAI,CACFA,EAAkB,KAAK,MAAM,aAAa,QAAQN,CAAM,CAAC,CAC1D,MAAe,CACd,QAAQ,IAAI,GAAG,EACf,MACD,CAED,GAAKM,EAIL,UAAWC,KAAOD,EAChBL,EAAa,SAASM,CAAG,EAAE,MAAQD,EAAgBC,CAAG,CAE1D"}